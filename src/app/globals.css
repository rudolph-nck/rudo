@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@200;300;400;500;600;700;800;900&family=Instrument+Serif:ital@0;1&family=Orbitron:wght@400;500;600;700;800;900&display=swap');

@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    overflow-x: hidden;
  }

  body {
    background: #080a0e;
    color: #e4eef5;
    font-family: 'Outfit', -apple-system, sans-serif;
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
  }

  /* Scanlines overlay - only on dark chrome areas via .dark-chrome */
  .dark-chrome::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.06) 2px,
      rgba(0, 0, 0, 0.06) 4px
    );
    pointer-events: none;
    z-index: 1;
  }
}

@layer components {
  /* Grid background */
  .grid-bg {
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(rgba(56, 189, 248, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(56, 189, 248, 0.03) 1px, transparent 1px);
    background-size: 60px 60px;
    z-index: 0;
    pointer-events: none;
  }

  /* Light content area wrapper */
  .light-content {
    background: #f5f5f5;
    color: #1a1a1a;
  }

  /* Cyber clip-path buttons */
  .cyber-clip {
    clip-path: polygon(10px 0, 100% 0, calc(100% - 10px) 100%, 0 100%);
  }

  .cyber-clip-sm {
    clip-path: polygon(8px 0, 100% 0, calc(100% - 8px) 100%, 0 100%);
  }

  /* Card clip-path (cut corners) */
  .cyber-card {
    clip-path: polygon(0 0, calc(100% - 18px) 0, 100% 18px, 100% 100%, 18px 100%, 0 calc(100% - 18px));
  }

  .cyber-card-sm {
    clip-path: polygon(0 0, calc(100% - 14px) 0, 100% 14px, 100% 100%, 14px 100%, 0 calc(100% - 14px));
  }

  /* Cyber divider */
  .cyber-divider {
    height: 50px;
    position: relative;
    z-index: 1;
  }

  .cyber-divider::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, #38bdf8, #c4285a, transparent);
  }

  /* Glitch text effect */
  .glitch {
    position: relative;
    display: inline-block;
    color: #38bdf8;
    font-style: italic;
  }

  .glitch::before,
  .glitch::after {
    content: attr(data-text);
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    font-style: italic;
  }

  .glitch::before {
    color: #c4285a;
    z-index: -1;
    animation: glitch-1 4s infinite;
  }

  .glitch::after {
    color: #38bdf8;
    z-index: -2;
    animation: glitch-2 4s infinite;
  }

  /* ── Glitch-line: event-driven phrase cycling ─────────────────────────── */
  /* Base: the cycling phrase element. Fixed min-width prevents layout shift. */
  .glitch-line {
    position: relative;
    color: #38bdf8;
    font-style: italic;
    min-width: 7.5ch; /* widest phrase ≈ "AI personalities" */
    transition: color 0.06s;
  }

  /* Shared pseudo-element base for RGB-split layers */
  .glitch-line::before,
  .glitch-line::after {
    content: attr(data-text);
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    font-style: italic;
    pointer-events: none;
    opacity: 0;
  }

  .glitch-line::before { color: #c4285a; z-index: -1; }
  .glitch-line::after  { color: #38bdf8; z-index: -2; }

  /* ·· Boot heavy glitch — strong distortion on first paint ·· */
  .glitch-heavy::before {
    opacity: 1;
    animation: gl-boot-r 0.12s steps(2, jump-none) infinite;
  }
  .glitch-heavy::after {
    opacity: 1;
    animation: gl-boot-b 0.12s steps(2, jump-none) infinite;
  }
  .glitch-heavy {
    animation: gl-boot-base 0.10s steps(3, jump-none) infinite;
  }

  /* ·· Micro flicker — subtle RGB split + opacity jitter, no text change ·· */
  .glitch-micro {
    animation: gl-micro 0.08s steps(2, jump-none) 1;
  }
  .glitch-micro::before {
    opacity: 0.6;
    transform: translate(-1.5px, 0.5px);
  }
  .glitch-micro::after {
    opacity: 0.4;
    transform: translate(1px, -0.5px);
  }

  /* ·· Hard glitch — intense burst for rare disturbance events ·· */
  .glitch-hard {
    animation: gl-hard-base 0.09s steps(3, jump-none) infinite;
  }
  .glitch-hard::before {
    opacity: 1;
    animation: gl-hard-r 0.07s steps(2, jump-none) infinite;
  }
  .glitch-hard::after {
    opacity: 1;
    animation: gl-hard-b 0.07s steps(2, jump-none) infinite;
  }

  /* Ambient glow orbs */
  .orb-blue {
    position: absolute;
    border-radius: 50%;
    background: rgba(56, 189, 248, 0.25);
    filter: blur(120px);
    pointer-events: none;
  }

  .orb-rose {
    position: absolute;
    border-radius: 50%;
    background: rgba(196, 40, 90, 0.3);
    filter: blur(120px);
    pointer-events: none;
  }

  /* Section tag */
  .section-tag {
    font-family: 'Orbitron', sans-serif;
    font-size: 10px;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: #38bdf8;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .section-tag::before {
    content: '';
    width: 20px;
    height: 2px;
    background: #38bdf8;
    opacity: 0.5;
  }

  /* Status dot */
  .status-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #38bdf8;
    animation: pulse-dot 2s ease-in-out infinite;
  }

  /* Scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar-track {
    background: #080a0e;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(56, 189, 248, 0.15);
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(56, 189, 248, 0.3);
  }

  /* Light scrollbar for content areas */
  .light-content ::-webkit-scrollbar-track {
    background: #f5f5f5;
  }

  .light-content ::-webkit-scrollbar-thumb {
    background: #d4d4d4;
  }

  .light-content ::-webkit-scrollbar-thumb:hover {
    background: #a3a3a3;
  }
}

@keyframes glitch-1 {
  0%, 94%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
  95% { clip-path: inset(25% 0 55% 0); transform: translate(-3px, 1px); }
  97% { clip-path: inset(65% 0 10% 0); transform: translate(3px, -1px); }
}

@keyframes glitch-2 {
  0%, 94%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
  96% { clip-path: inset(45% 0 25% 0); transform: translate(3px, -2px); }
  98% { clip-path: inset(10% 0 70% 0); transform: translate(-3px, 1px); }
}

@keyframes pulse-dot {
  0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.25); }
  50% { opacity: 0.4; box-shadow: 0 0 14px 5px rgba(56, 189, 248, 0.25); }
}

/* ── Glitch-line keyframes ─────────────────────────────────────────────── */

/* Boot: heavy jitter on the base text */
@keyframes gl-boot-base {
  0%   { transform: translate(0); opacity: 1; }
  33%  { transform: translate(-2px, 1px) skewX(-1deg); opacity: 0.85; }
  66%  { transform: translate(1.5px, -1px) skewX(0.5deg); opacity: 0.9; }
  100% { transform: translate(0); opacity: 1; }
}

/* Boot: rose pseudo-element jitter */
@keyframes gl-boot-r {
  0%   { transform: translate(-3px, 1px); clip-path: inset(20% 0 40% 0); }
  50%  { transform: translate(2px, -1px); clip-path: inset(55% 0 10% 0); }
  100% { transform: translate(-3px, 1px); clip-path: inset(20% 0 40% 0); }
}

/* Boot: blue pseudo-element jitter */
@keyframes gl-boot-b {
  0%   { transform: translate(2px, -1px); clip-path: inset(60% 0 5% 0); }
  50%  { transform: translate(-2px, 1px); clip-path: inset(10% 0 55% 0); }
  100% { transform: translate(2px, -1px); clip-path: inset(60% 0 5% 0); }
}

/* Micro flicker: brief opacity + slight shift */
@keyframes gl-micro {
  0%   { opacity: 1; transform: translate(0); }
  50%  { opacity: 0.82; transform: translate(0.5px, 0); }
  100% { opacity: 1; transform: translate(0); }
}

/* Hard glitch: intense base jitter */
@keyframes gl-hard-base {
  0%   { transform: translate(0) skewX(0); }
  33%  { transform: translate(-3px, 2px) skewX(-2deg); }
  66%  { transform: translate(2px, -1px) skewX(1.5deg); }
  100% { transform: translate(0) skewX(0); }
}

/* Hard glitch: rose layer */
@keyframes gl-hard-r {
  0%   { transform: translate(-4px, 1px); clip-path: inset(15% 0 50% 0); }
  50%  { transform: translate(3px, -2px); clip-path: inset(50% 0 15% 0); }
  100% { transform: translate(-4px, 1px); clip-path: inset(15% 0 50% 0); }
}

/* Hard glitch: blue layer */
@keyframes gl-hard-b {
  0%   { transform: translate(3px, -1px); clip-path: inset(45% 0 20% 0); }
  50%  { transform: translate(-3px, 2px); clip-path: inset(5% 0 60% 0); }
  100% { transform: translate(3px, -1px); clip-path: inset(45% 0 20% 0); }
}
